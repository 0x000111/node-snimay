<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>安装</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="//cdn.bootcss.com/ionicons/2.0.1/css/ionicons.min.css">
    <link href="//cdn.bootcss.com/jquery.bootstrapvalidator/0.5.3/css/bootstrapValidator.min.css" rel="stylesheet">
    <!-- Theme style -->
    <link rel="stylesheet" href="/admin/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="/admin/css/skins/_all-skins.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<!-- ADD THE CLASS layout-boxed TO GET A BOXED LAYOUT -->

<body class="hold-transition skin-blue layout-top-nav">
   <div class="wrapper">
  <!-- Full Width Column -->
  <div class="content-wrapper">
    <div class="container">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          网站安装
        </h1>
      </section>
      <!-- Main content -->
      <section class="content">
        {{#if notnext}}
        <div class="box box-default">
          <div class="box-header with-border">
            <h3 class="box-title">管理员用户</h3>
          </div>
          <div class="box-body">
              <form id="formValidator" role="form" action='/admin/install' method='post'>
                <div class="box-body">
                    <div class="form-group">
                        <label for="name">用户名</label>
                        <input type="text" name="name" class="form-control" id="name" placeholder="请输入用户名">
                        <span id="nameError" class="help-block"></span>
                    </div>
                    <div class="form-group">
                        <label for="email">邮箱</label>
                        <input type="text" name="email" class="form-control" id="email" placeholder="请输入邮箱">
                        <span id="emailError" class="help-block"></span>
                    </div>
                    <div class="form-group">
                        <label for="password">密码</label>
                        <input type="password" name="password" class="form-control" id="password" placeholder="请输入密码">
                        <span id="passwordError" class="help-block"></span>
                    </div>
                    <div class="form-group">
                        <label for="repassword">确认密码</label>
                        <input type="password" name="repassword" class="form-control" id="repassword" placeholder="请输入确认密码">
                        <span id="repasswordError" class="help-block"></span>
                    </div>
                </div>
                <input type='hidden' name="_csrf" value="{{csrf}}" />
                <!-- /.box-body -->

                <div class="text-center box-footer">
                    <button type="submit" class="btn btn-primary">提交</button>
                </div>
            </form>
          </div>
        </div>
        {{else}}
        <div class="box box-default">
          <div class="box-header with-border">
            <h3 class="box-title">网站配置</h3>
          </div>
          <div class="box-body">
              <form id="formValidator2" role="form" action='/admin/install/next' method='post'>
                <div class="box-body">
                    <div class="form-group">
                        <label for="host">域名</label>
                        <input value="{{host}}" name="host" type="text" class="form-control" id="host" placeholder="请输入域名">
                        <span id="hostError" class="help-block"></span>
                    </div>
                    <div class="form-group">
                        <label for="title">标题</label>
                        <input value="{{title}}" name="title" type="text" class="form-control" id="title" placeholder="请输入标题">
                        <span id="titleError" class="help-block"></span>
                    </div>
                    <div class="form-group">
                        <label for="email">邮箱</label>
                        <input value="{{email}}" name="email" type="email" class="form-control" id="email" placeholder="请输入邮箱">
                        <span id="emailError" class="help-block"></span>
                    </div>
                </div>
                <input type='hidden' name="_csrf" value="{{csrf}}" />
                <!-- /.box-body -->

                <div class="text-center box-footer">
                    <button type="submit" class="btn btn-primary">提交</button>
                </div>
            </form>
          </div>
        </div>
        {{/if}}
        <!-- /.box -->
      </section>
      <!-- /.content -->
    </div>
    <!-- /.container -->
  </div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <div class="container">
      <div class="pull-right hidden-xs">
        <b>Version</b> 2.3.6
      </div>
      <strong>Copyright &copy; 2014-2016 <a href="http://almsaeedstudio.com">Almsaeed Studio</a>.</strong> All rights
      reserved.
    </div>
    <!-- /.container -->
  </footer>
</div>
    <!-- ./wrapper -->
    <!-- jQuery 2.2.4 -->
    <script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
    <!-- Bootstrap 3.3.7 -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- SlimScroll -->
    <script src="//cdn.bootcss.com/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js"></script>
    <!-- FastClick -->
    <script src="//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="//cdn.bootcss.com/jquery.bootstrapvalidator/0.5.3/js/bootstrapValidator.min.js"></script>
    <script src="//cdn.bootcss.com/jquery.bootstrapvalidator/0.5.3/js/language/zh_CN.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/admin/js/app.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="/admin/js/demo.js"></script>
    <script>
    $(function () {
        $('#formValidator').bootstrapValidator({
            message: 'This value is not valid',
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            locale: 'zh_CN',
            fields: {
                name: {
                    container: '#nameError',
                    validators: {
                        notEmpty: {
                        }
                    }
                },
                email: {
                    container: '#emailError',
                    validators: {
                        notEmpty: {
                        },
                        emailAddress: {
                        }
                    }
                },
                password: {
                    container: '#passwordError',
                    validators: {
                        notEmpty: {
                        },
                        identical: {
                            field: 'repassword',
                            message: '两次密码不一致'
                        },
                        stringLength: {
                            min: 6,
                            max: 30,
                        },
                    }
                },
                repassword: {
                    container: '#repasswordError',
                    validators: {
                        notEmpty: {
                        },
                        identical: {
                            field: 'password',
                            message: '两次密码不一致'
                        },
                        stringLength: {
                            min: 6,
                            max: 30,
                        },
                    }
                },
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target);
            var fv = $form.data('formValidation');
            fv.defaultSubmit();
        });
        $('#formValidator2').bootstrapValidator({
            message: 'This value is not valid',
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            locale: 'zh_CN',
            fields: {
                title: {
                    container: '#titleError',
                    validators: {
                        notEmpty: {
                        }
                    }
                },
                email: {
                    container: '#emailError',
                    validators: {
                        notEmpty: {
                        },
                        emailAddress: {
                        }
                    }
                },
                host: {
                    container: '#hostError',
                    validators: {
                        notEmpty: {
                        },
                    }
                },
                keywords: {
                    container: '#keywordsError',
                    validators: {
                        notEmpty: {
                        }
                    }
                }
            }
        }).on('success.form.fv', function (e) {
            e.preventDefault();
            var $form = $(e.target);
            var fv = $form.data('formValidation2');
            fv.defaultSubmit();
        });
    });
</script>
</body>

</html>